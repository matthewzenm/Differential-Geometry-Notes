\chapter{Curvature}

\section{Curvature Tensor and Curvaure Endomorphism}\label{curvature section}

\subsection*{Riemann Curvature Tensor}
We calculated in Proposition~\ref{exp at 0}~that $\exp_{p*}|_0$ is identity, naturally we have the following problem:
\begin{pro}
    Calculate $\exp_{p*}|_v:T_v(T_pM)\to T_{\exp_p(v)}M$.
\end{pro}
\begin{proof}[Solution]
    To evaluate $\exp_{p*}|_v(\xi)$, we choose a line $v+s\xi$, and then
    \[\exp_{p*}|_v(\xi)=\left.\frac{\d{}}{\d{s}}\right|_{s=0}\exp_p(v+s\xi).\]
    Now we can introduce the one parameter family of geodesics 
    \[\gamma(t,s)=\exp_p(t(v+s\xi)),\]
    and denote $\gamma(t)=\gamma(t,0)$.
    We calculate the variation vector field $J(t)$ of $\gamma$, and obtain the result by taking $t=1$.
    Let $J_s(t)=\frac{\partial{}}{\partial{s}}\gamma(t,s)$, then $\dot{J}_s(t)=\nabla_{\dot\gamma_s(t)}\frac{\partial\gamma}{\partial{s}}$.
    Since $\nabla_{\dot\gamma_s(t)}\frac{\partial\gamma}{\partial{t}}=0$, we have
    \begin{align*}
        \ddot{J}_s(t)&=\nabla_{\dot\gamma_s(t)}\nabla_{\dot\gamma_s(t)}\frac{\partial\gamma}{\partial{s}}\\
        &=\nabla_{\dot\gamma_s(t)}\nabla_{\frac{\partial\gamma}{\partial{s}}}\frac{\partial\gamma}{\partial{t}}\\
        &=\nabla_{\frac{\partial\gamma}{\partial{t}}}\nabla_{\frac{\partial\gamma}{\partial{s}}}\frac{\partial\gamma}{\partial{t}}-\nabla_{\frac{\partial\gamma}{\partial s}}\nabla_{\frac{\partial\gamma}{\partial{t}}}\frac{\partial\gamma}{\partial{t}}.
    \end{align*}
    Moreover, we have $[\partial_t,\partial_s]=0$, then we denote
    \[R\left(\frac{\partial}{\partial{t}},\frac{\partial}{\partial{s}}\right)=\nabla_{\frac{\partial}{\partial{s}}}\nabla_{\frac{\partial}{\partial{t}}}-\nabla_{\frac{\partial}{\partial{t}}}\nabla_{\frac{\partial}{\partial{s}}}+\nabla_{\left[\frac{\partial}{\partial{t}},\frac{\partial}{\partial{s}}\right]},\]
    we obtain
    \[\ddot{J}_s(t)+R\left(\frac{\partial\gamma}{\partial{t}},\frac{\partial\gamma}{\partial{s}}\right)\frac{\partial\gamma}{\partial{t}}=0.\]
    Take $s=0$, we have
    \begin{equation}
        \ddot{J}(t)+R(\dot\gamma(t),J(t))\dot\gamma(t)=0.\label{Jacobi field}
    \end{equation}
    We will show later that~\eqref{Jacobi field}~is a system of ordinary differential equations, hence by solving the system with given initial value and taking $t=1$, we obtain the answer of the problem.
\end{proof}

We make it into a definition.

\begin{defn}
    The \emph{Riemann curvature tensor} $R:\mathfrak{X}(M)\times\mathfrak{X}(M)\times\mathfrak{X}(M)\to\mathfrak{X}(M)$ is defined by
    \[R(X,Y)Z=\nabla_Y\nabla_XZ-\nabla_X\nabla_YZ+\nabla_{[X,Y]}Z.\]
\end{defn}

\begin{rem}
    Many authors define the Riemann curvature tensor as the negative of above definition, e.g.\ in~\cite{Petersen}.
    Please be careful with the sign of the tensor.
\end{rem}

We need to explain the name ``tensor'', so we must show $R$ is truly tensorial.
\begin{lem}\label{R tensor}
    $R$ is a tensor.
\end{lem}
\begin{proof}
    $R(X,Y)Z$ is clearly tensorial in $X$ and $Y$, we show that $R(X,Y)(fZ)=fR(X,Y)Z$ for $f\in C^\infty(M)$.
    We have
    \begin{align*}
        \nabla_Y\nabla_X(fZ)&=\nabla_Y((Xf)Z+f\nabla_XZ)\\
        &=(YXf)Z+(Xf)\nabla_YZ+(Yf)\nabla_XZ+f\nabla_Y\nabla_XZ\\
        -\nabla_X\nabla_Y(fZ)&=-(XYf)Z-(Yf)\nabla_XZ-(Xf)\nabla_YZ-f\nabla_X\nabla_YZ\\
        \nabla_{[X,Y]}(fZ)&=([X,Y]f)Z+f\nabla_{{X,Y}}Z,
    \end{align*}
    add all three equalities and we reach the conclusion.
\end{proof}

Now we can look at Riemann curvature tensor locally.
A rather complicated calculation shows:
\begin{lem}
    Let $R=\R{l}{i}{j}{k}\otimes\d{x^i}\otimes\d{x^j}\otimes\d{x^k}\otimes\partial_l$, then
    \[\R{l}{i}{j}{k}=\partial_j\Gamma^l_{ik}-\partial_i\Gamma^l_{jk}+\Gamma^m_{ik}\Gamma^l_{jm}-\Gamma^m_{jk}\Gamma^l_{im}.\]
\end{lem}

We also define a $(0,4)$-tensor by lowering the $l$ index of $R{l}{i}{j}{k}$, that is:
\begin{defn}
    $R(X,Y,Z,W):=\langle R(X,Y)Z,W\rangle$ is also called \emph{Riemann curvature tensor}.
\end{defn}

\begin{eg}
    Euclidean space $(\mathbb{R}^n,\delta)$ has $R\equiv 0$.
    Any metric admits zero curvature is called \emph{flat}.
\end{eg}

\subsection*{Curvature Endomorphism}
Curvature also appears in another scene.
Let us consider the second covariant differential of a tensor.

\begin{defn}
    Let $T(\cdots)$ be a tensor, denote $(\nabla_{X,Y}T)(\cdots):=\nabla(\nabla T)(\cdots,Y,X)$.
\end{defn}

\begin{prop}
    For $(r,s)$-tensor $T$, we have
    \begin{equation}
        \nabla_{X,Y}T=\nabla_X(\nabla_YT)-\nabla_{\nabla_XY}T.\label{2nd cov deriv}
    \end{equation}
\end{prop}
\begin{proof}
    Since covariant derivative commutes with contraction, we have
    \begin{align*}
        \nabla_X(\nabla_YT)&=\nabla_X(\tr_{1,s+2}Y\otimes\nabla T)\\
        &=\tr_{1,s+2}(\nabla_X(Y\otimes\nabla T))\\
        &=\tr_{1,s+2}((\nabla_XY)\otimes\nabla T+Y\otimes(\nabla_X\nabla T))\\
        &=\nabla_{\nabla_XY}T+\nabla(\nabla T)(\cdots,Y,X)\\
        &=\nabla_{\nabla_XY}T+\nabla_{X,Y}T,
    \end{align*}
    then the result follows.
\end{proof}

\begin{defn}
    Define the \emph{curvature endomorphism} $R(X,Y)$ on $(r,s)$-tensors by
    \[R(X,Y)T=\nabla_Y\nabla_XT-\nabla_X\nabla_YT+\nabla_{[X,Y]}T.\]
\end{defn}

\begin{rem}
    We need to show $R(X,Y)T$ is tensorial in $T$ so that $R(X,Y)$ is a well-defined endomorphism.
    This is similar to Lemma~\ref{R tensor}.
\end{rem}

\begin{prop}
    For any $(r,s)$-tensor $T$, we have the following \emph{Ricci identity}:
    \[\nabla_{Y,X}T-\nabla_{X,Y}T=R(X,Y)T.\]
    Moreover, we have a explicit formula
    \begin{equation}
        \begin{aligned}
            &(R(X,Y)T)(\omega_1,\cdots,\omega_r,X_1,\cdots,X_s)\\
            =&-\sum_{i=1}^rT(\omega_1,\cdots,R(X,Y)\omega_i,\cdots,\omega_r,X_1,\cdots,X_s)\\
            &-\sum_{j=1}^sT(\omega_1,\cdots,\omega_r,X_1,\cdots,R(X,Y)X_j,\cdots,X_s)
        \end{aligned}\label{curvature formula}
    \end{equation}
\end{prop}
\begin{proof}
    Using equation~\eqref{2nd cov deriv}, we have
    \begin{align*}
        \nabla_{Y,X}T-\nabla_{X,Y}T&=\nabla_Y\nabla_XT-\nabla_{\nabla_YX}T-\nabla_X\nabla_YT+\nabla_{\nabla_XY}T\\
        &=\nabla_Y\nabla_XT-\nabla_X\nabla_YT+\nabla_{[X,Y]}T\\
        &=R(X,Y)T,
    \end{align*}
    the second equality is torsion-freeness.
    Since $R(X,Y)$ clearly satisfies Leibniz Law and commutes with contraction, we can deduce the formula in the same way as covariant derivative.
\end{proof}

Ricci identity shows the curvature appears when we interchange the second covariant differential.

\subsection*{Properties of Curvature}
\begin{prop}\label{curvature symmetric}
    Riemann curvature tensor has following symmetric properties:
    For $X,Y,Z,W\in\mathfrak{X}(M)$, we have
    \begin{enumerate}[(1)]
        \item $R(X,Y,Z,W)=-R(Y,X,Z,W)=-R(X,Y,W,Z)$;
        \item $R(X,Y)Z+R(Y,Z)X+R(Z,X)Y=0$ (First Bianchi identity);
        \item $R(X,Y,Z,W)=R(Z,W,X,Y)$;
        \item $(\nabla_XR)(Y,Z)+(\nabla_YR)(Z,X)+(\nabla_ZR)(X,Y)=0$ (Second Bianchi identity).
    \end{enumerate}
\end{prop}
\begin{proof}
    (1) The first equality is evident.
    We show the second equality.
    Consider the Hessian of $g(Z,W)$, then we have
    \[\nabla^2g(Z,W)(X,Y)=\langle\nabla^2_{Y,X}Z,W\rangle+\langle\nabla_XZ,\nabla_YW\rangle+\langle\nabla_YZ,\nabla_XW\rangle+\langle Z,\nabla^2_{Y,X}W\rangle.\]
    Interchange $X,Y$, we have
    \[\nabla^2g(Z,W)(Y,X)=\langle\nabla^2_{X,Y}Z,W\rangle+\langle\nabla_YZ,\nabla_XW\rangle+\langle\nabla_XZ,\nabla_YW\rangle+\langle Z,\nabla^2_{X,Y}W\rangle.\]
    These two equations must equal, hence
    \[\langle\nabla^2_{Y,X}Z,W\rangle-\langle\nabla^2_{X,Y}Z,W\rangle=\langle Z,\nabla^2_{X,Y}W\rangle-\langle Z,\nabla^2_{Y,X}W\rangle,\]
    this is equivalent to
    \[R(X,Y,Z,W)=R(Y,X,W,Z).\]
    (2) Since $R(X,Y)Z$ is tensorial, we can assume $X,Y,Z$ are frames.
    Then all Lie bracket between $X,Y,Z$ vanish, we have
    \begin{align*}
        \sum_{\text{cyc}}R(X,Y)Z=&\nabla_Y\nabla_XZ-\nabla_X\nabla_YZ+\nabla_Z\nabla_YX-\nabla_Y\nabla_ZX\\
        &+\nabla_X\nabla_ZY-\nabla_Z\nabla_XY\\
        =&\nabla_Y[X,Z]+\nabla_Z[Y,X]+\nabla_X[Z,Y]\\
        =&0.
    \end{align*}
    (3) By (1) and (2) we have
    \begin{align*}
        R(X,Y,Z,W)=&-R(Z,X,Y,W)-R(Y,Z,X,W)\\
        =&R(Z,X,W,Y)+R(Y,Z,W,X)\\
        =&-R(W,Z,X,Y)-R(X,W,Z,Y)\\
        &-R(W,Y,Z,X)-R(Z,W,Y,X)\\
        =&2R(Z,W,X,Y)+R(X,W,Y,Z)+R(W,Y,X,Z)\\
        =&2R(Z,W,X,Y)-R(Y,X,W,Z)\\
        =&2R(Z,W,X,Y)-R(X,Y,Z,W),
    \end{align*}
    which implies $2R(X,Y,Z,W)=2R(Z,W,X,Y)$.\\
    (4) By the definition of covariant derivative, we have
    \begin{align*}
        (\nabla_XR)(Y,Z)=&[\nabla_X,R(Y,Z)]-R(\nabla_XY,Z)-R(Y,\nabla_XZ)\\
        =&[\nabla_X,\nabla_{[Y,Z]}]-[\nabla_X,[\nabla_Y,\nabla_Z]]-R(\nabla_XY,Z)-R(Y,\nabla_XZ)\\
        =&\nabla_{[X,[Y,Z]]}-[\nabla_X,[\nabla_Y,\nabla_Z]]-R(X,[Y,Z])\\
        &-R(\nabla_XY,Z)-R(Y,\nabla_XZ).
    \end{align*}
    Take summation cyclically, we see that terms involving $\nabla$ vanish because of Jacobi identity.
    Moreover, since $\nabla_XY-\nabla_YX=[X,Y]$, the terms involving $R$ also vanish.
\end{proof}

\section{Sectional, Ricci and Scalar Curvature}

We now define some special curvatures.
Fix a Riemannian manifold $(M,g)$.

\begin{defn}
    Let $p\in M$, $\pi\subset T_pM$ be a $2$-plane, $\pi=\Span\{u,v\}$.
    Then define the \emph{sectional curvature} of $\pi$ at $p$ to be
    \[\Sect_p(\pi)=\frac{R_p(u,v,u,v)}{|u|^2|v|^2-\langle u,v\rangle^2}.\]
\end{defn}

\begin{rem}
    One can show that sectional curvature does not depend on the choice of basis.
    For a proof, see~\cite[Proposition~3.1]{doCarmo}.
\end{rem}

\begin{prop}\label{sect to curvature}
    The sectional curvature determines the curvature tensor.
\end{prop}
\begin{proof}
    Let $R,R'$ have same sectional curvature, denote $\tilde{R}=R-R'$, then $\widetilde{\Sect}=0$.
    We show that $\tilde{R}=0$.
    First, we have
    \begin{align*}
        \tilde{R}(X,Y,X,W)&=\tilde{R}(X,Y-W,X,W)+\tilde{R}(X,W,X,W)\\
        &=\tilde{R}(X,Y-W,X,W-Y)+\tilde{R}(X,Y-W,X,Y)\\
        &=\tilde{R}(X,Y,X,Y)-\tilde{R}(X,W,X,Y)\\
        &=\tilde{R}(X,Y,X,W),
    \end{align*}
    hence $\tilde{R}(X,Y,X,W)=0$.
    Then we have
    \begin{align*}
        \tilde{R}(X,Y,Z,W)&=\tilde{R}(X,Y,Z,W-X)+\tilde{R}(X,Y,Z,X)\\
        &=\tilde{R}(X-W,Y,Z,W-X)+\tilde{R}(W,Y,Z,W-X)\\
        &=\tilde{R}(W,Y,Z,W)-\tilde{R}(W,Y,Z,X)\\
        &=-\tilde{R}(W,Y,Z,X).
    \end{align*}
    By the same reasoning, we have
    \begin{align*}
        \tilde{R}(X,Y,Z,W)&=\tilde{R}(Z,W,X,Y)\\
        &=-\tilde{R}(Y,W,X,Z)\\
        &=-\tilde{R}(X,Z,Y,W).
    \end{align*}
    Passing the result to the $(1,3)$-tensor, by first Bianchi identity, we have
    \begin{align*}
        \tilde{R}(X,Z)Y+\tilde{R}(Y,Z)X+\tilde{R}(Z,X)Y=0,
    \end{align*}
    which implies $\tilde{R}(Y,Z)X=0$.
    Then
    \begin{align*}
        0&=\tilde{R}(Y,Z,X,W)\\
        &=-\tilde{R}(W,Z,X,Y)\\
        &=-\tilde{R}(X,Y,W,Z)\\
        &=\tilde{R}(X,Y,Z,W).
    \end{align*}
    Thus we proved $\tilde{R}=0$, and the result follows.
\end{proof}

We mention here a little observation.
\begin{lem}\label{curvature of const sect}
    If $\Sect_p$ is constant for all $2$-planes in $T_pM$, say $K_p$, then we have
    \[R_p(X,Y,Z,W)=K_p(\langle X,Z\rangle\langle Y,W\rangle-\langle X,W\rangle\langle Y,Z\rangle).\]
\end{lem}

Then we can prove the following Schur's Theorem.
\begin{thm}[Schur]
    Let $(M^n,g)$ be a Riemannian manifold with $n\geq 3$.
    If $\Sect_p(\pi)$ is independent from $\pi\subset T_pM$ for all $p\in M$, then $M$ has constant sectional curvature.
\end{thm}
\begin{proof}
    Since the tensor
    \[R'(X,Y,Z,W)=\langle X,Z\rangle\langle Y,W\rangle-\langle X,W\rangle\langle Y,Z\rangle\]
    evidently satisfies the Proposition~\ref{curvature symmetric}, Proposition~\ref{sect to curvature}~shows $R=fR'$ for some $f\in C^\infty(M)$.
    We show that $f$ is constant.
    Since $n\geq 3$, there exists three orthonormal vectors $X,Y,Z$.
    Take $W$ arbitrary, then by second Bianchi identity, we have
    \[(\nabla_XR)(Y,Z,W)+(\nabla_YR)(Z,X,W)+(\nabla_ZR)(X,Y,W)=0.\]
    Since $\nabla_XR=\nabla_X(fR')=(Xf)R'+f(\nabla_XR')$, by taking summation cyclically we obtain
    \[(Xf)R'(Y,Z)W+(Yf)R'(Z,X)W+(Zf)R'(X,Y)W=0.\]
    Since the sectional curvature is constant for any $\pi\subset T_pM$, the ``sectional curvature'' corresponding to $R'$ is also constant, hence we can use Lemma~\ref{curvature of const sect}~to obtain
    \begin{align*}
        0=&(Xf)K(\langle Y,W\rangle Z-\langle Z,W\rangle Y)\\
        &+(Yf)K(\langle Z,W\rangle X-\langle X,W\rangle Z)\\
        &+(Zf)K(\langle X,W\rangle Y-\langle Y,W\rangle X),
    \end{align*}
    which is equivalent to
    \begin{align*}
        0=&((Xf)\langle Y,W\rangle-(Yf)\langle X,W\rangle)Z\\
        &+((Yf)\langle Z,W\rangle-(Zf)\langle Y,W\rangle)X\\
        &+((Zf)\langle X,W\rangle-(Xf)\langle Z,W\rangle)Y.
    \end{align*}
    Since $X,Y,Z$ are orthonormal, the coefficient of $X,Y,Z$ must all equal to $0$.
    Thus by taking $W=Y$, we obtain
    \[Xf=(Xf)\langle Y,Y\rangle=(Yf)\langle X,Y\rangle=0.\]
    Since $X$ is arbitrary, we have $f\equiv\text{const}$.
    This deduces $M$ has constant sectional curvature.
\end{proof}

\begin{defn}
    Let $\R{l}{i}{j}{k}$ be the local expression of Riemann curvature tensor, then we define the \emph{Ricci curvature} by
    \[\Ricij{l}{j}=\tr_{13}\R{l}{i}{j}{k}.\]
    Equivalently, let $\{e_i\}$ be an orthonormal basis at $p$, then
    \[\Ric_p(X)=\sum_{i=1}^nR(e_i,X)e_i.\]
\end{defn}

Clearly, $\Ric$ is a self-adjoint linear transformation by Proposition~\ref{curvature symmetric}~(3).

\begin{defn}
    We define the \emph{scalar curvature} by taking trace of $\Ric$, or equivalently
    \[\Scal(p)=\sum_{i=1}^n\langle\Ric_p(e_i),e_i\rangle\]
    for an orthonormal basis $\{e_i\}$ at $p$.
\end{defn}

\begin{defn}
    A Riemannian manifold $(M,g)$ is called an \emph{Einstein manifold} if $\Ric=\lambda\delta$ for some $\lambda\in C^\infty(M)$.
\end{defn}

We have another theorem of Schur on Einstein manifolds.
\begin{thm}[Schur]\label{schur for scal}
    Let $M^n$ be an Einstein manifold with $n\geq 3$, then $M$ has constant scalar curvature.
\end{thm}

First we need a lemma.
\begin{lem}
    For any metric $g$, we have
    \[2\tr_{13}\nabla\Ric=\d\Scal.\]
\end{lem}
\begin{proof}
    We check the equation locally.
    The second Bianchi identity can be written as
    \[\R{l}{i}{j}{m}{}_{;k}+\R{l}{k}{i}{m}{}_{;j}+\R{l}{j}{k}{m}{}_{;i}=0,\]
    or equivalently
    \[\R{l}{i}{j}{m}{}_{;k}-\R{l}{i}{k}{m}{}_{;j}+\R{l}{j}{k}{m}{}_{;i}=0.\]
    Multiply $g^{im}$ we obtain
    \[0=\Ricij{l}{j}{}_{;k}-\Ricij{l}{k}{}_{;j}+R_{jk}{}^{il}{}_{;i}.\]
    Let $l=j$, we obtain
    \begin{align*}
        0&=\Ricij{j}{j}{}_{;k}-\Ricij{j}{k}{}_{;j}-R_{kj}{}^{ij}{}_{;i}\\
        &=\Scal_{;k}-\Ricij{j}{k}{}_{;j}-\Ricij{i}{k}{}_{;i}\\
        &=\Scal_{;k}-2\Ricij{i}{k}{}_{;i}.
    \end{align*}
    Then the result follows.
\end{proof}

\begin{proof}[Proof of Theorem~\ref{schur for scal}]
    Let $\Ric=\lambda\delta$, then by the lemma,
    \begin{align*}
        \d\Scal&=2\tr_{1,3}\nabla\Ric\\
        &=2\tr_{1,3}\nabla(\lambda\delta)\\
        &=2\tr_{1,3}(\delta\otimes\d{\lambda})\\
        &=2\d{\lambda}.
    \end{align*}
    However, we have
    \begin{align*}
        \d\Scal&=\d\tr_{1,2}\Ric\\
        &=\d{\lambda\tr_{1,2}\delta}\\
        &=n\d{\lambda}.
    \end{align*}
    This means $(n-2)\d\Scal=0$, which implies $\Scal\equiv\text{const}$ for $n\geq 3$.
\end{proof}

\section{Jacobi Fields}
At the beginning of Section~\ref{curvature section}, we introduced the one parameter family of geodesics $\gamma(t,s)=\exp_p(t(v+s\xi))$.
It is a variation of curve $\gamma(t)=\gamma(t,0)$, and its variation vector field $J$ satisfies~\eqref{Jacobi field}.
Motivated by this, we give the definition of Jacobi fields.

\begin{defn}
    Let $\gamma$ be a geodesic, a vector field $J$ along $\gamma$ is called a \emph{Jacobi field}, if $\ddot{J}(t)+R(\dot\gamma(t),J(t))\dot\gamma(t)=0$.
\end{defn}

Let $\{e_i(t)\}$ be a parallel frame along $\gamma$, and $J(t)=f^ie_i$.
Define $a^i_j(t)=R(\dot\gamma(t),e_i(t),\dot\gamma(t),e_j(t))$, then the equation of Jacobi field is equivalent to
\[\ddot{f}^i(t)+a^i_j(t)f^j(t)=0,\ i=1,\cdots,n.\]
Hence~\eqref{Jacobi field}~is indeed a system of ODE.
By ODE theory, given $f^i(0),\dot{f}^i(0)$ $i=1,\cdots,n$, the $f^i(t)$'s are uniquely determined.
Translate into geometric language, a Jacobi field $J$ is determined by $J(0)$ and $\dot{J}(0)$.

We summarize above discussion.

\begin{prop}
    Let $\mathscr{J}\gamma$ be the vector space of all Jacobi fields along $\gamma$, then 
    \[\dim\mathscr{J}(\gamma)=2n.\]
\end{prop}

The proposition below shows only Jacobi fields that perpendicular to $\gamma$ are interesting.
\begin{prop}
    Let $\gamma$ be a geodesic, $J$ is a Jacobi field along $\gamma$.
    Then we have the decomposition
    \[J(t)=J^\perp(t)+(at+b)\dot\gamma(t),\]
    where $J^\perp(t)\perp\dot\gamma(t)$.
    If a Jacobi field is perpendicular to $\gamma$, then we call it a \emph{normal Jacobi field}.
\end{prop}
\begin{proof}
    We have
    \begin{align*}
        \frac{\d^2{}}{\d{t^2}}\langle J(t),\dot\gamma(t)\rangle&=\langle\ddot{J}(t),\dot\gamma(t)\rangle\\
        &=-\langle R(\dot\gamma(t),J(t))\dot\gamma(t),\dot\gamma(t)\rangle\\
        &=0.\qedhere
    \end{align*}
\end{proof}

At the beginning of Section~\ref{curvature section}, we see that a one parameter family of geode\-sics gives rise to a Jacobi field.
The converse is also true.
\begin{prop}
    Let $J$ be a Jacobi field, then $J$ is the variation field of some one parameter family of geodesics.
\end{prop}
\begin{proof}
    Given a Jacobi field $J$, it is determined by $J(0)$ and $\dot{J}(0)$.
    Let $\zeta(s)$ be the geodesic with initial tangent vector $J(0)$, and $T(s)$ be its tangent vector field.
    Let $W(s)$ be parallel along $\zeta$ and $W(0)=\dot{J}(0)$.
    Now set $\gamma(t,s)=\exp_{\zeta(s)}(t(T(s)+sW(s)))$.
    Then
    \[\left[\frac{\partial}{\partial{t}},\frac{\partial}{\partial{s}}\right]=\gamma_*[\partial_t,\partial_s]=0,\]
    hence we can interchange the partial derivative.
    Let $U$ be the variation field of $\gamma(t,s)$, then $U$ is a Jacobi field.
    We verify $U$ and $J$ has same initial value.
    We have
    \begin{align*}
        U(0)&=\left.\frac{\partial{}}{\partial{s}}\right|_{s=0}\gamma(0,s)\\
        &=\left.\frac{\partial{}}{\partial{s}}\right|_{s=0}\exp_{\zeta(s)}(0)\\
        &=\left.\frac{\partial{}}{\partial{s}}\right|_{s=0}\zeta(s)\\
        &=\dot\zeta(0)=J(0),
    \end{align*}
    and
    \begin{align*}
        \dot{U}(0)&=\left.\left.\frac{\partial}{\partial{t}}\right|_{t=0}\frac{\partial}{\partial{s}}\right|_{s=0}\exp_{\zeta(s)}(t(T(s)+sW(s)))\\
        &=\left.\left.\frac{\partial}{\partial{s}}\right|_{t=0}\frac{\partial}{\partial{t}}\right|_{s=0}\exp_{\zeta(s)}(t(T(s)+sW(s)))\\
        &=\left.\frac{\partial}{\partial{s}}\right|_{s=0}\exp_{\zeta{s}*}|_0(T(s)+sW(s))\\
        &=\left.\frac{\partial}{\partial{s}}\right|_{s=0}(T(s)+sW(s))\\
        &=W(0)=\dot{J}(0).\qedhere
    \end{align*}
\end{proof}

Now we can completely answer the calculation problem of differential of exponential map.
\begin{prop}\label{compute exp*}
    Let a Jacobi field $J$ along $\gamma(t)=\exp_p(tv)$ satisfy $J(0)=0$, $\dot{J}(0)=\xi$, then $J(t)=\exp_{p*}|_{tv}(t\xi)$.
\end{prop}
\begin{proof}
    Let $J$ be the variation vector field of $\gamma(t,s)=\exp_p(t(v+s\xi))$.
    Then
    \begin{align*}
        J(t)&=\frac{\partial{}}{\partial{s}}\exp_p(t(v+s\xi))\\
        &=\exp_{p*}|_{tv}(t\xi).
    \end{align*}
    Now consider the initial condition for $J$, we have
    \[J(0)=\exp_{p*}|_0(0)=0,\]
    and
    \begin{align*}
        \dot{J}(0)&=\left.\frac{\partial}{\partial{t}}\right|_{t=0}\left.\frac{\partial{}}{\partial{s}}\right|_{s=0}\exp_p(t(v+s\xi))\\
        &=\dot{J}(0)=\left.\frac{\partial}{\partial{s}}\right|_{s=0}\left.\frac{\partial{}}{\partial{t}}\right|_{t=0}\exp_p(t(v+s\xi))\\
        &=\left.\frac{\partial{}}{\partial{s}}\right|_{s=0}\exp_{p*}|_0(v+s\xi)\\
        &=\xi.
    \end{align*}
    Then the conclusion follows by the uniqueness of Jacobi fields.
\end{proof}

\begin{prop}[Gauss Lemma]
    $\langle\exp_{p*}|_v(\xi),\dot\gamma_v(1)\rangle=\langle\xi,v\rangle$.
\end{prop}
\begin{proof}
    Let $J$ be a Jacobi field along $\gamma_v$ with $J(0)=0$, $\dot{J}(0)=\xi$.
    Then by Proposition~\ref{compute exp*}, we have
    \begin{align*}
        \langle\exp_{p*}|_v(\xi),\dot\gamma_v(1)\rangle&=\langle J(1),\dot\gamma_v(1)\rangle.
    \end{align*}
    We differentiate above inner product, obtaining
    \[\frac{\d{}}{\d{t}}\langle J(t),\dot\gamma_v(t)\rangle=\langle\dot{J}(t),\dot\gamma_v(t),\rangle\]
    and
    \begin{align*}
        \frac{\d{}}{\d{t}}\langle\dot{J}(t),\dot\gamma_v(t)\rangle&=\langle\ddot{J}(t),\dot\gamma_v(t)\rangle\\
        &=-\langle R(\dot\gamma_v,J)\dot\gamma_v,\dot\gamma_v\rangle\\
        &=0.
    \end{align*}
    Hence $\langle\dot{J}(t),\dot\gamma_v(t)\rangle$ is constant.
    Clearly $\langle\dot{J}(0),\dot\gamma_v(0)\rangle=\langle\xi,v\rangle$, then we have
    \begin{align*}
        \langle J(1),\dot\gamma_v(1)\rangle-\langle J(0),\dot\gamma_v(0)\rangle&=\int_0^1\langle\xi,v\rangle\d{t}\\
        &=\langle\xi,v\rangle.
    \end{align*}
    Notice that $\langle J(0),\dot\gamma_v(0)\rangle=0$ and we obtain the result.
\end{proof}

Finally we consider the case where $\exp_{p*}$ degenerates.
\begin{defn}
    Let $\gamma$ be a geodesic starting at $p$, if $\exp_{p*}|_{\gamma(t_0)}$ is degenerate at $\gamma(t_0)$, then $\gamma(t_0)$ is called a \emph{conjugate point} of $p$.
\end{defn}

A simple criterion for conjugate points is
\begin{prop}
    $\exp_{p*}$ degenerates at $\gamma(t_0)$ if and only if there is a nontrivial Jacobi field $J$ with $J(0)=J(t_0)=0$.
\end{prop}
\begin{proof}
    $\exp_{p*}|_{\gamma(t_0)}(\xi)=0$ if and only if Jacobi field $J(t)=\frac{\partial{}}{\partial{s}}\exp_p(t(v+s\xi))$ satisfies $J(0)=J(t_0)=0$.
\end{proof}

\begin{rem}
    This proposition shows conjugate is symmetric.
\end{rem}

\section{Index Form}

Using the first variation of energy, we conclude that a length-minimizing curve must be a geodesic.
However, the converse is generally not true.
For instance, a geodesic on sphere starting from the north pole and crossing the south pole is not length-minimizing.
We need to find a sufficient condition for a geodesic to be length-minimizing.
Calculus hints to us that we should differentiate energy twice.
This lead to the second variation formula.

\begin{prop}[Second variation formula]
    Let $\gamma:[0,a]\times(-\varepsilon,\varepsilon)$ be a variation, and $\gamma_0(t)=\gamma(t,0)$ is a geodesic, then
    \[E''(0)=\int_0^a|\dot{V}(t)|^2-\langle R(\dot\gamma_0(t),V(t))\dot\gamma_0(t),V(t)\rangle\d{t}+\boxed{\langle\nabla_{V(t)}V(t),\dot\gamma_0(t)\rangle|^a_0}.\]
    The boxed term is called \emph{boundary term}, and it vanishes when the variation is proper.
\end{prop}
\begin{proof}
    We take the expression of $E'(s)$ in the first variation formula and differentiate, we have
    \begin{align*}
        E''(s)&=\int_0^a\frac{\partial{}}{\partial{s}}\left\langle\frac{\partial\gamma}{\partial{t}},\nabla_{\frac{\partial\gamma}{\partial{s}}}\frac{\partial\gamma}{\partial{t}}\right\rangle\d{t}\\
        &=\int_0^a\left\langle\nabla_{\frac{\partial\gamma}{\partial{s}}}\frac{\partial\gamma}{\partial{t}},\nabla_{\frac{\partial\gamma}{\partial{s}}}\frac{\partial\gamma}{\partial{t}}\right\rangle+\left\langle\frac{\partial\gamma}{\partial{t}},\nabla_{\frac{\partial\gamma}{\partial{s}}}\nabla_{\frac{\partial\gamma}{\partial{s}}}\frac{\partial\gamma}{\partial{t}}\right\rangle\d{t},
    \end{align*}
    where
    \[\left\langle\nabla_{\frac{\partial\gamma}{\partial{s}}}\frac{\partial\gamma}{\partial{t}},\nabla_{\frac{\partial\gamma}{\partial{s}}}\frac{\partial\gamma}{\partial{t}}\right\rangle=\left\langle\nabla_{\frac{\partial\gamma}{\partial{t}}}\frac{\partial\gamma}{\partial{s}},\nabla_{\frac{\partial\gamma}{\partial{t}}}\frac{\partial\gamma}{\partial{s}}\right\rangle=|\dot{V}(t)|^2\]
    when $s=0$, and
    \[\nabla_{\frac{\partial\gamma}{\partial{s}}}\nabla_{\frac{\partial\gamma}{\partial{s}}}\frac{\partial\gamma}{\partial{t}}=\nabla_{\frac{\partial\gamma}{\partial{s}}}\nabla_{\frac{\partial\gamma}{\partial{t}}}\frac{\partial\gamma}{\partial{s}}=\nabla_{\frac{\partial\gamma}{\partial{t}}}\nabla_{\frac{\partial\gamma}{\partial{t}}}\frac{\partial\gamma}{\partial{s}}-R\left(\frac{\partial\gamma}{\partial{s}},\frac{\partial\gamma}{\partial{t}}\right)\frac{\partial\gamma}{\partial{s}}.\]
    Thus when $s=0$, we have
    \[E''(0)=\int_0^a|\dot{V}(t)|^2-\langle R(\dot\gamma_0,V)\dot\gamma_0,V\rangle+\frac{\partial}{\partial{t}}\langle\dot\gamma_0,\nabla_VV\rangle-\langle\nabla_{\dot\gamma_0}\dot\gamma_0,\nabla_VV\rangle,\]
    the last term is $0$ since $\gamma_0$ is a geodesic, and we obtain the formula.
\end{proof}

Second variation formula gives rise to a symmetric bilinear form on the vector space of vector fields along a geodesic $\gamma$, which we will call it index form, to deduce whether a geodesic is locally length minimizing.

\begin{defn}
    Let $\gamma:[0,a]\to M$ be a geodesic.
    The \emph{index form} of $\gamma$ is a bilinear form on $\Gamma(TM,\gamma)$ defined by
    \[I(X,Y)=\int_0^a\langle\dot{X},\dot{Y}\rangle-\langle R(\dot\gamma,X)\dot\gamma,Y\rangle\d{t}.\]
\end{defn}

Clearly index form is symmetric.

\begin{lem}\label{Jacobi field as null space}
    Let $U\in\Gamma_0(TM,\gamma)=\{Y\in\Gamma(TM,\gamma):\ Y(0)=Y(a)=0\}$, then $U$ is a Jacobi field if and only if $I(U,Y)=0$ for any $Y\in\mathscr{V}_0$.
\end{lem}
\begin{proof}
    First we observe that by integrate by parts, we have
    \[I(U,Y)=-\int_0^a\langle\ddot{U}+R(\dot\gamma,U)\dot\gamma,Y\rangle.\]
    If $U$ is a Jacobi field, then $\ddot{U}+R(\dot\gamma,U)\dot\gamma=0$, which implies $I(U,Y)=0$.
    Conversely, if $I(U,Y)=0$ for any $Y\in\Gamma_0(TM,\gamma)$, choose a smooth function $f$ with $f(0)=f(a)=0$ and positive elsewhere, let $Y=f(t)(\ddot{U}+R(\dot\gamma,U)\dot\gamma)$, then
    \[0=-f\int_0^a|\ddot{U}+R(\dot\gamma,U)\dot\gamma|^2\d{t},\]
    this implies $\ddot{U}+R(\dot\gamma,U)\dot\gamma=0$, that is, $U$ is a Jacobi field.
\end{proof}

We observe if a Jacobi field $J$ does not vanish at the starting or ending point of the geodesic, the above integration by parts is changed into
\begin{align*}
    I(Y,J)&=\langle Y,\dot{J}\rangle|_0^a-\int_0^a\langle\ddot{J}+R(\dot\gamma,J)\dot\gamma,Y\rangle\d{t}\\
    &=\langle Y,\dot{J}\rangle|_0^a.
\end{align*}

The next proposition shows the positive definiteness of $I$ is related to conjugate points.
\begin{prop}\label{prejacobi}
    Let $\gamma:[0,a]\to M$ be a geodesic, $I$ be its index form.
    \begin{enumerate}[(1)]
        \item If $\gamma$ contains no conjugate points of $\gamma(0)$, then $I$ is positive definite on $\Gamma_0(TM,\gamma)$.
        \item If $\gamma(a)$ is the only conjugate point of $\gamma(0)$, then $I$ is positive semidefinite but not positive definite.
        \item If there is a $t_0<a$ such that $\gamma(t_0)$ is conjugate to $\gamma(0)$, then there is a $U\in\Gamma_0(TM,\gamma)$ such that $I(U,U)<0$. 
    \end{enumerate}
\end{prop}
\begin{proof}[Proof of Proposition~\ref{prejacobi}~(1)]
    Let $\gamma(0)=p$, $\tilde\gamma$ is the radial line in $T_pM$ defined by $\tilde\gamma(t)=t\dot\gamma(0)$.
    Since $\gamma$ contains no conjugate points of $\gamma(0)$, $\exp_p$ is nondegenerate on the whole $\tilde\gamma$.
    Hence there is a neighborhood $U$ of $\tilde\gamma([0,a])$ such that $\exp_p:U\to M$ is an immersion.
    By Proposition~\ref{geodesic locally length-min}~and the subsequent remark, $\gamma$ is length-minimizing.
    Hence by Proposition~\ref{length-min to energy-min}, $\gamma$ also minimizes energy.
    Let $\gamma(t,s):[0,a]\times(-\varepsilon,\varepsilon)\to M$ be any proper variation, by taking $\varepsilon$ small enough, we can assume the variation is contained in $U$.
    Then we have
    \[E''(0)=\lim_{s\to 0}\frac{E(-s)+E(s)-2E(0)}{s^2}\geq 0.\]
    Since $E''(0)(V)=I(V,V)$ for any variation vector field, we have $I(V,V)\geq 0$ for any $V\in\Gamma_0(TM,\gamma)$.
    Now we must show $I(V,V)=0$ implies $V=0$.
    Let $I(V,V)=0$, $X\in\Gamma_0(TM,\gamma)$ and $\delta>0$, we have
    \[0\leq I(V+\delta X,V+\delta X)=I(V,V)+2\delta I(V,X)+\delta^2I(X,X),\]
    this implies
    \[2I(V,X)+\delta I(X,X)\geq 0.\]
    Let $\delta\to 0$, we obtain $I(V,X)\geq 0$ for any $X\in\Gamma_0(TM,\gamma)$.
    Similarly, consider $I(V-\delta X,V-\delta X)$, we have $I(V,X)\leq 0$ for any $X\in\Gamma_0(TM,\gamma)$.
    This means $I(V,X)=0$ for any $X\in\Gamma_0(TM,\gamma)$.
    Now by Lemma~\ref{Jacobi field as null space}, $V$ is a Jacobi field.
    But $\gamma$ has no conjugate points of $\gamma(0)$, $V$ must identically equal to $0$.
    This proves $I$ is positive definite.
\end{proof}